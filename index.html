<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-asdf" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/01/19/asdf/" class="article-date">
  <time class="dt-published" datetime="2021-01-19T14:15:02.000Z" itemprop="datePublished">2021-01-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/01/19/asdf/">asdf</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>阿什杜父阿斯蒂芬撒地方</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/01/19/asdf/" data-id="ckk434sia00027wu5aqso4p3z" data-title="asdf" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Task3" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/01/19/Task3/" class="article-date">
  <time class="dt-published" datetime="2021-01-19T14:02:10.830Z" itemprop="datePublished">2021-01-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/01/19/Task3/">The TASK3</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="任务说明"><a href="#任务说明" class="headerlink" title="任务说明"></a>任务说明</h3><hr>
<ul>
<li><code>任务主题：</code>论⽂文代码统计，统计所有论⽂文出现代码的相关统计； </li>
<li><code>任务内容：</code>使⽤用正则表达式统计代码连接、⻚页数和图表数据； </li>
<li><code>任务成果：</code>学习正则表达式统计；</li>
</ul>
<h3 id="预备知识—正则表达式"><a href="#预备知识—正则表达式" class="headerlink" title="预备知识—正则表达式"></a>预备知识—正则表达式</h3><hr>
<p>普通字符:大小写字母,数字,所有标点,一些特殊字符  </p>
<table>
<thead>
<tr>
<th>字符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>[ABC]</td>
<td>匹配 […] 中的所有字符，例例如 [aeiou] 匹配字符串串 “google runoob taobao” 中所有的 a e i o u  字⺟。</td>
</tr>
<tr>
<td>[^ABC]</td>
<td>匹配除了了 […] 中字符的所有字符，例例如 [^aeiou] 匹配字符串串 “google runoob taobao” 中除了了 a e i o u 字母的所有字母。</td>
</tr>
<tr>
<td>[A-Z]</td>
<td>[A-Z] 表示一个区间，匹配所有大写字母，[a-z] 表示所有小写字母。</td>
</tr>
<tr>
<td>.</td>
<td>匹配除换行符（\n、\r）之外的任何单个字符，相等于[^\n\r]。</td>
</tr>
<tr>
<td>[\s\S]</td>
<td>匹配所有。\s 是匹配所有空⽩白符，包括换行，\S 非空白符，包括换行。</td>
</tr>
<tr>
<td>\w</td>
<td>匹配字母、数字、下划线。等价于 [A-Za-z0-9_]</td>
</tr>
</tbody></table>
<hr>
<p>特殊字符</p>
<table>
<thead>
<tr>
<th>特 别 字 符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>( )</td>
<td>标记一个子表达式的开始和结束位置。子表达式可以获取供以后使⽤用。要匹配这些字符，请 使用 ( 和 )。</td>
</tr>
<tr>
<td>*</td>
<td>匹配前面的子表达式零次或多次。要匹配 * 字符，请使用*。</td>
</tr>
<tr>
<td>+</td>
<td>匹配前面的子表达式一次或多次。要匹配 + 字符，请使用+。</td>
</tr>
<tr>
<td>.</td>
<td>匹配除换行符 \n 之外的任何单字符。要匹配 . ，请使用 . 。</td>
</tr>
<tr>
<td>[</td>
<td>标记⼀个/中括号表达式的开始。要匹配[，请使用[。</td>
</tr>
<tr>
<td>?</td>
<td>匹配前⾯面的子表达式零次或一次，或指明一个非贪婪限定符。要匹配 ? 字符，请使用 ?。</td>
</tr>
<tr>
<td>\</td>
<td>将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。例例如， ‘n’ 匹配字符 ‘n’。’\n’ 匹配换⾏行行符。序列列 ‘&#39; 匹配””, 而 ‘(‘ 则匹配 “(“。</td>
</tr>
<tr>
<td>^</td>
<td>匹配输入字符串串的开始位置，除非在方括号表达式中使用，当该符号在方括号表达式中使用时，表示不接受该⽅方括号表达式中的字符集合。要匹配 ^ 字符本身，请使用 ^。</td>
</tr>
<tr>
<td>{</td>
<td>标记限定符表达式的开始。要匹配 {，请使用 {。</td>
</tr>
<tr>
<td>|</td>
<td>指明两项之间的一个选择。要匹配 |，请使用 |。</td>
</tr>
</tbody></table>
<hr>
<p>限定符  </p>
<table>
<thead>
<tr>
<th>字符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>匹配前面的子表达式零次或多次。例如，zo* 能匹配 “z” 以及 “zoo”。* 等价于{0,}。</td>
</tr>
<tr>
<td>+</td>
<td>匹配前面的⼦子表达式一次或多次。例如，’zo+’ 能匹配 “zo” 以及 “zoo”，但不不能匹配 “z”。+ 等价于 {1,}。</td>
</tr>
<tr>
<td>?</td>
<td>匹配前面的子表达式零次或一次。例例如，”do(es)?” 可以匹配 “do” 、 “does” 中的 “does” 、 “doxy” 中的 “do” 。? 等价于 {0,1}。</td>
</tr>
<tr>
<td>{n}</td>
<td>n 是一个⾮非负整数。匹配确定的 n 次。例例如，’o{2}’不能匹配 “Bob” 中的 ‘o’，但是能匹配 “food” 中的两个 o。</td>
</tr>
<tr>
<td>{n,}</td>
<td>n 是一个⾮非负整数。至少匹配n 次。例如，’o{2,}’ 不能匹配 “Bob” 中的 ‘o’，但能匹配 “foooood” 中的所有 o。’o{1,}’ 等价于 ‘o+’。’o{0,}’ 则等价于 ‘o*’。</td>
</tr>
<tr>
<td>{n,m}</td>
<td>m 和 n 均为⾮非负整数，其中n &lt;= m。少匹配 n 次且多匹配 m 次。例例如，”o{1,3}” 将匹配 “fooooood” 中的前三个 o。’o{0,1}’ 等价于 ‘o?’。请注意在逗号和两个数之间不能有空格。</td>
</tr>
</tbody></table>
<h3 id="任务1初始化数据"><a href="#任务1初始化数据" class="headerlink" title="任务1初始化数据"></a>任务1初始化数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#日常导包</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> seaborn</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">data = []</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;arxiv-metadata-oai-snapshot.json&quot;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> idx, line <span class="keyword">in</span> <span class="built_in">enumerate</span>(f):</span><br><span class="line">        d = json.loads(line)</span><br><span class="line">        d = &#123; <span class="string">&#x27;abstract&#x27;</span> : d[<span class="string">&#x27;abstract&#x27;</span>], <span class="string">&#x27;categories&#x27;</span> : d[<span class="string">&#x27;categories&#x27;</span>],\</span><br><span class="line">             <span class="string">&#x27;comments&#x27;</span> : d[<span class="string">&#x27;comments&#x27;</span>] &#125;</span><br><span class="line">        data.append(d)</span><br><span class="line"></span><br><span class="line">data = pd.DataFrame(data)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data </span><br><span class="line"><span class="comment">#观察数据发现,部分论文有描述没有页数</span></span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>abstract</th>
      <th>categories</th>
      <th>comments</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A fully differential calculation in perturba...</td>
      <td>hep-ph</td>
      <td>37 pages, 15 figures; published version</td>
    </tr>
    <tr>
      <th>1</th>
      <td>We describe a new algorithm, the $(k,\ell)$-...</td>
      <td>math.CO cs.CG</td>
      <td>To appear in Graphs and Combinatorics</td>
    </tr>
    <tr>
      <th>2</th>
      <td>The evolution of Earth-Moon system is descri...</td>
      <td>physics.gen-ph</td>
      <td>23 pages, 3 figures</td>
    </tr>
    <tr>
      <th>3</th>
      <td>We show that a determinant of Stirling cycle...</td>
      <td>math.CO</td>
      <td>11 pages</td>
    </tr>
    <tr>
      <th>4</th>
      <td>In this paper we show how to compute the $\L...</td>
      <td>math.CA math.FA</td>
      <td>None</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1796906</th>
      <td>We report on measurements of the angular dep...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>19 pages, LaTex, 6 PostScript figures; Author'...</td>
    </tr>
    <tr>
      <th>1796907</th>
      <td>The non-linear microwave surface impedance o...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>4 pages, LaTeX type, Uses IEEE style files, 60...</td>
    </tr>
    <tr>
      <th>1796908</th>
      <td>The vortex contribution to the dc field (H) ...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>20 pages, LaTeX type, Uses REVTeX style files,...</td>
    </tr>
    <tr>
      <th>1796909</th>
      <td>We show that the density of states in an ani...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>7 pages, 4 PostScript Figures, LaTeX, to appea...</td>
    </tr>
    <tr>
      <th>1796910</th>
      <td>The Ginzburg Landau theory for d_{x^2-y^2}-w...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>12 pages including 8 eps figs, LaTeX with jpsj...</td>
    </tr>
  </tbody>
</table>
<p>1796911 rows × 3 columns</p>
</div>



<h3 id="任务2数据处理"><a href="#任务2数据处理" class="headerlink" title="任务2数据处理"></a>任务2数据处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span>(data[<span class="string">&#x27;comments&#x27;</span>])</span><br></pre></td></tr></table></figure>



<pre><code>pandas.core.series.Series</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">&#x27;pages&#x27;</span>] = data[<span class="string">&#x27;comments&#x27;</span>].apply(<span class="keyword">lambda</span> x: re.findall(<span class="string">&#x27;[1-9][0-9]* pages&#x27;</span>, <span class="built_in">str</span>(x)))</span><br><span class="line"><span class="comment">#findall()直接将得到pages</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#re.find()用法如下</span></span><br><span class="line">str_1 = <span class="string">&#x27;123 pages asdfasdfdfkxcvlkxnzclmlkamsfkmadsf asjdfajopsjpxnzpvnpzxv&#x27;</span></span><br><span class="line">x = (<span class="keyword">lambda</span> x: re.findall(<span class="string">&#x27;[1-9][0-9]* pages&#x27;</span>, x))(str_1)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>



<pre><code>[&#39;123 pages&#39;]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>abstract</th>
      <th>categories</th>
      <th>comments</th>
      <th>pages</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A fully differential calculation in perturba...</td>
      <td>hep-ph</td>
      <td>37 pages, 15 figures; published version</td>
      <td>[37 pages]</td>
    </tr>
    <tr>
      <th>1</th>
      <td>We describe a new algorithm, the $(k,\ell)$-...</td>
      <td>math.CO cs.CG</td>
      <td>To appear in Graphs and Combinatorics</td>
      <td>[]</td>
    </tr>
    <tr>
      <th>2</th>
      <td>The evolution of Earth-Moon system is descri...</td>
      <td>physics.gen-ph</td>
      <td>23 pages, 3 figures</td>
      <td>[23 pages]</td>
    </tr>
    <tr>
      <th>3</th>
      <td>We show that a determinant of Stirling cycle...</td>
      <td>math.CO</td>
      <td>11 pages</td>
      <td>[11 pages]</td>
    </tr>
    <tr>
      <th>4</th>
      <td>In this paper we show how to compute the $\L...</td>
      <td>math.CA math.FA</td>
      <td>None</td>
      <td>[]</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1796906</th>
      <td>We report on measurements of the angular dep...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>19 pages, LaTex, 6 PostScript figures; Author'...</td>
      <td>[19 pages]</td>
    </tr>
    <tr>
      <th>1796907</th>
      <td>The non-linear microwave surface impedance o...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>4 pages, LaTeX type, Uses IEEE style files, 60...</td>
      <td>[4 pages]</td>
    </tr>
    <tr>
      <th>1796908</th>
      <td>The vortex contribution to the dc field (H) ...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>20 pages, LaTeX type, Uses REVTeX style files,...</td>
      <td>[20 pages]</td>
    </tr>
    <tr>
      <th>1796909</th>
      <td>We show that the density of states in an ani...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>7 pages, 4 PostScript Figures, LaTeX, to appea...</td>
      <td>[7 pages]</td>
    </tr>
    <tr>
      <th>1796910</th>
      <td>The Ginzburg Landau theory for d_{x^2-y^2}-w...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>12 pages including 8 eps figs, LaTeX with jpsj...</td>
      <td>[12 pages]</td>
    </tr>
  </tbody>
</table>
<p>1796911 rows × 4 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data = data[data[<span class="string">&#x27;pages&#x27;</span>].apply(<span class="built_in">len</span>) &gt; <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">data[<span class="string">&#x27;pages&#x27;</span>] = data[<span class="string">&#x27;pages&#x27;</span>].apply(<span class="keyword">lambda</span> x : <span class="built_in">float</span>(x[<span class="number">0</span>].replace(<span class="string">&#x27; pages&#x27;</span>, <span class="string">&#x27;&#x27;</span>)))</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">&#x27;pages&#x27;</span>].describe().astype(<span class="built_in">int</span>)</span><br><span class="line"><span class="comment">#.astype(类型a)以类型a进行执行</span></span><br></pre></td></tr></table></figure>



<pre><code>count    1089180
mean          17
std           22
min            1
25%            8
50%           13
75%           22
max        11232
Name: pages, dtype: int32</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>abstract</th>
      <th>categories</th>
      <th>comments</th>
      <th>pages</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A fully differential calculation in perturba...</td>
      <td>hep-ph</td>
      <td>37 pages, 15 figures; published version</td>
      <td>37.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>The evolution of Earth-Moon system is descri...</td>
      <td>physics.gen-ph</td>
      <td>23 pages, 3 figures</td>
      <td>23.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>We show that a determinant of Stirling cycle...</td>
      <td>math.CO</td>
      <td>11 pages</td>
      <td>11.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>We study the two-particle wave function of p...</td>
      <td>cond-mat.mes-hall</td>
      <td>6 pages, 4 figures, accepted by PRA</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>A rather non-standard quantum representation...</td>
      <td>gr-qc</td>
      <td>16 pages, no figures. Typos corrected to match...</td>
      <td>16.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1796906</th>
      <td>We report on measurements of the angular dep...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>19 pages, LaTex, 6 PostScript figures; Author'...</td>
      <td>19.0</td>
    </tr>
    <tr>
      <th>1796907</th>
      <td>The non-linear microwave surface impedance o...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>4 pages, LaTeX type, Uses IEEE style files, 60...</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>1796908</th>
      <td>The vortex contribution to the dc field (H) ...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>20 pages, LaTeX type, Uses REVTeX style files,...</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>1796909</th>
      <td>We show that the density of states in an ani...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>7 pages, 4 PostScript Figures, LaTeX, to appea...</td>
      <td>7.0</td>
    </tr>
    <tr>
      <th>1796910</th>
      <td>The Ginzburg Landau theory for d_{x^2-y^2}-w...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>12 pages including 8 eps figs, LaTeX with jpsj...</td>
      <td>12.0</td>
    </tr>
  </tbody>
</table>
<p>1089180 rows × 4 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#选择主要类别</span></span><br><span class="line">data[<span class="string">&#x27;categories&#x27;</span>] = data[<span class="string">&#x27;categories&#x27;</span>].apply(<span class="keyword">lambda</span> x: x.split(<span class="string">&#x27; &#x27;</span>)[<span class="number">0</span>])</span><br><span class="line"><span class="comment">#多个类别筛选出第一个类别</span></span><br><span class="line">data[<span class="string">&#x27;categories&#x27;</span>] = data[<span class="string">&#x27;categories&#x27;</span>].apply(<span class="keyword">lambda</span> x: x.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line"><span class="comment">#第一类别中选出主要类别</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#柱状图显示各类论文平均数目</span></span><br><span class="line">plt.figure(figsize = (<span class="number">12</span>, <span class="number">6</span>))</span><br><span class="line">data.groupby([<span class="string">&#x27;categories&#x27;</span>])[<span class="string">&#x27;pages&#x27;</span>].mean().plot(kind = <span class="string">&#x27;bar&#x27;</span>)</span><br></pre></td></tr></table></figure>



<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x240be75c6a0&gt;</code></pre>
<p><img src="output_15_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对论文指数执行相同处理</span></span><br><span class="line">data[<span class="string">&#x27;figures&#x27;</span>] = data[<span class="string">&#x27;comments&#x27;</span>]\</span><br><span class="line">    .apply(<span class="keyword">lambda</span> x: re.findall(<span class="string">&#x27;[1-9][0-9]* figures&#x27;</span>, <span class="built_in">str</span>(x)))</span><br><span class="line"><span class="comment">#lambda表达式中不要用\回车进行分割</span></span><br><span class="line">data = data[data[<span class="string">&#x27;figures&#x27;</span>].apply(<span class="built_in">len</span>) &gt; <span class="number">0</span>]</span><br><span class="line">data[<span class="string">&#x27;figures&#x27;</span>] = data[<span class="string">&#x27;figures&#x27;</span>].apply(<span class="keyword">lambda</span> x : <span class="built_in">float</span>(x[<span class="number">0</span>].replace(<span class="string">&#x27; figures&#x27;</span>, <span class="string">&#x27;&#x27;</span>)))</span><br></pre></td></tr></table></figure>
<h3 id="任务3有效信息处理"><a href="#任务3有效信息处理" class="headerlink" title="任务3有效信息处理"></a>任务3有效信息处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(pd.__version__)</span><br></pre></td></tr></table></figure>
<pre><code>1.0.5</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#目标:找到所有含有github的论文,整理出github地址,并且用图表显示信息</span></span><br><span class="line">data_with_code = data[</span><br><span class="line">    (data.comments.<span class="built_in">str</span>.contains(<span class="string">&#x27;github&#x27;</span>) == <span class="literal">True</span>)|\</span><br><span class="line">    (data.abstract.<span class="built_in">str</span>.contains(<span class="string">&#x27;github&#x27;</span> )== <span class="literal">True</span>)   </span><br><span class="line">]</span><br><span class="line"><span class="comment">#首先筛选所有含有github的项</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;mode.chained_assignment&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line"><span class="comment">#这里关闭了警告⚠</span></span><br><span class="line"></span><br><span class="line">data_with_code[<span class="string">&#x27;text&#x27;</span>] = data_with_code[<span class="string">&#x27;abstract&#x27;</span>].fillna(<span class="string">&#x27;&#x27;</span>) + data_with_code[<span class="string">&#x27;comments&#x27;</span>].fillna(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#正则表达式匹配论文</span></span><br><span class="line">pattern = <span class="string">&#x27;[a-zA-Z]+://github[^\s]*&#x27;</span></span><br><span class="line"><span class="comment">#书写模式串</span></span><br><span class="line">data_with_code[<span class="string">&#x27;code_flag&#x27;</span>] = data_with_code[<span class="string">&#x27;text&#x27;</span>].<span class="built_in">str</span>.findall(pattern).apply(<span class="built_in">len</span>)</span><br><span class="line"><span class="comment">#code_flag表示github链接数量</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#生成图表</span></span><br><span class="line">data_with_code = data_with_code[data_with_code[<span class="string">&quot;code_flag&quot;</span>] &gt;= <span class="number">1</span>]</span><br><span class="line">plt.figure(figsize = (<span class="number">12</span>, <span class="number">6</span>))</span><br><span class="line">data_with_code.groupby([<span class="string">&#x27;categories&#x27;</span>])[<span class="string">&#x27;code_flag&#x27;</span>].count().plot(kind = <span class="string">&#x27;bar&#x27;</span>)</span><br></pre></td></tr></table></figure>



<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x24037355430&gt;</code></pre>
<p><img src="output_20_1.png" alt="png"></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><hr>
<ul>
<li>想利用github page搭建私人博客</li>
<li>python写的更溜了</li>
<li>打算制作bug文档</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/01/19/Task3/" data-id="ckk434sia00017wu5h5h5gbcs" data-title="The TASK3" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Task2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/01/19/Task2/" class="article-date">
  <time class="dt-published" datetime="2021-01-19T14:01:55.623Z" itemprop="datePublished">2021-01-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/01/19/Task2/">The TASK2</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <blockquote>
<p>DW21期数据分析方向</p>
</blockquote>
<p><code>任务主题：</code>论⽂文作者统计，统计所有论⽂文作者出现评率Top10的姓名；<br /><br><code>任务内容：</code>论⽂文作者的统计、使⽤用 Pandas 读取数据并使⽤用字符串串操作； <br /><br><code>任务成果：</code>学习 Pandas 的字符串串操作</p>
<h3 id="知识前导"><a href="#知识前导" class="headerlink" title="知识前导"></a>知识前导</h3><ol>
<li><p>数据处理</p>
<p> python调用print(‘字符串’)检查转义字符<br> print(r”字符串”)停止检查  </p>
</li>
<li><p>字符处理</p>
<p> 说白了就是切分字符串,建议访问<a target="_blank" rel="noopener" href="https://www.cnblogs.com/lvtaohome/p/11215954.html">https://www.cnblogs.com/lvtaohome/p/11215954.html</a>  </p>
</li>
<li><p>markdown换行技巧<br> 空两格回车,快速普通换行</p>
<p> 两下回车段落式换行  </p>
</li>
<li><p>编程语言中为什么设置\t</p>
<p> 不同机器中<code>Tab键</code>产生的空格数是不一样的;因此设置\t,根据当前计算机的设定,选定适应当前环境的空格数.  </p>
</li>
<li><p>python中string变量的内置函数</p>
<p> 必须夸夸<code>python</code>,比<code>C++</code>啥的强太多了,基本上你都不需要写函数,只需要明白这个函数能干啥,正确的参数是啥.</p>
</li>
</ol>
<h3 id="练习部分补充代码"><a href="#练习部分补充代码" class="headerlink" title="练习部分补充代码"></a>练习部分补充代码</h3><h2 id="勘误-原文2-3字符串处理有一个例子"><a href="#勘误-原文2-3字符串处理有一个例子" class="headerlink" title="勘误:原文2.3字符串处理有一个例子"></a><strong>勘误:原文2.3字符串处理有一个例子</strong></h2><p>print(“var2 <strong>[1:5]</strong>: “, var2 <strong>[0:7]</strong>)<br>代码切的是a部分,结果输出了b部分,很容易误导新手</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#以下时字符串切片的补充代码,可以略过</span></span><br><span class="line">var1 = <span class="string">&#x27;I\&#x27;m a handsome boy.&#x27;</span></span><br><span class="line">var2 = <span class="string">&#x27;Why i am so smart?&#x27;</span></span><br><span class="line"><span class="comment">#请略过我自恋部分</span></span><br><span class="line"></span><br><span class="line">print(var1[-<span class="number">13</span>:])</span><br><span class="line">print(var2[-<span class="number">6</span>:-<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<pre><code>handsome boy.
smart</code></pre>
<h2 id="任务1日常搭建环境"><a href="#任务1日常搭建环境" class="headerlink" title="任务1日常搭建环境"></a>任务1日常搭建环境</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#写程序第一件事干什么,相信不用我再说了吧</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns </span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="comment"># win10只能安装BeautifulSoup4,并且导包的时候必须从bs4中导入</span></span><br></pre></td></tr></table></figure>
<blockquote>
<h2 id="对原文改进"><a href="#对原文改进" class="headerlink" title="对原文改进"></a>对原文改进</h2></blockquote>
<hr>
<pre><code>data = [] with open(&quot;arxiv-metadata-oai-snapshot.json&quot;, &#39;r&#39;) as f:     
    for **idx,** line in **enumerate(f)**:         
        d = json.loads(line)        
        d = &#123;&#39;authors&#39;: d[&#39;authors&#39;], &#39;categories&#39;: d[&#39;categories&#39;],\
            &#39;authors_parsed&#39;: d[&#39;authors_parsed&#39;]&#125;        
        data.append(d)        
        data = pd.DataFrame(data) </code></pre>
<hr>
<p>我想说明的是<strong>第二行不用enumrate函数照样能用,而且减少了多余的操作</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">data = []</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;arxiv-metadata-oai-snapshot.json&quot;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        d = json.loads(line)</span><br><span class="line">        d = &#123;<span class="string">&#x27;authors&#x27;</span> : d[<span class="string">&#x27;authors&#x27;</span>], <span class="string">&#x27;categories&#x27;</span> : d[<span class="string">&#x27;categories&#x27;</span>],\</span><br><span class="line">             <span class="string">&#x27;authors_parsed&#x27;</span> : d[<span class="string">&#x27;authors_parsed&#x27;</span>]  &#125;</span><br><span class="line">        data.append(d)</span><br><span class="line"></span><br><span class="line">data = pd.DataFrame(data)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>authors</th>
      <th>categories</th>
      <th>authors_parsed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>C. Bal\'azs, E. L. Berger, P. M. Nadolsky, C.-...</td>
      <td>hep-ph</td>
      <td>[[Balázs, C., ], [Berger, E. L., ], [Nadolsky,...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Ileana Streinu and Louis Theran</td>
      <td>math.CO cs.CG</td>
      <td>[[Streinu, Ileana, ], [Theran, Louis, ]]</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Hongjun Pan</td>
      <td>physics.gen-ph</td>
      <td>[[Pan, Hongjun, ]]</td>
    </tr>
    <tr>
      <th>3</th>
      <td>David Callan</td>
      <td>math.CO</td>
      <td>[[Callan, David, ]]</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Wael Abu-Shammala and Alberto Torchinsky</td>
      <td>math.CA math.FA</td>
      <td>[[Abu-Shammala, Wael, ], [Torchinsky, Alberto, ]]</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1796906</th>
      <td>R. Prozorov, M. Konczykowski, B. Schmidt, Y. Y...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>[[Prozorov, R., ], [Konczykowski, M., ], [Schm...</td>
    </tr>
    <tr>
      <th>1796907</th>
      <td>Durga P. Choudhury, Balam A. Willemsen, John S...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>[[Choudhury, Durga P., , Physics Department, N...</td>
    </tr>
    <tr>
      <th>1796908</th>
      <td>Balam A. Willemsen, J. S. Derov and S.Sridhar ...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>[[Willemsen, Balam A., , Physics Department,\n...</td>
    </tr>
    <tr>
      <th>1796909</th>
      <td>Yasumasa Hasegawa (Himeji Institute of Technol...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>[[Hasegawa, Yasumasa, , Himeji Institute of Te...</td>
    </tr>
    <tr>
      <th>1796910</th>
      <td>Naoki Enomoto, Masanori Ichioka and Kazushige ...</td>
      <td>supr-con cond-mat.supr-con</td>
      <td>[[Enomoto, Naoki, , Okayama Univ.], [Ichioka, ...</td>
    </tr>
  </tbody>
</table>
<p>1796911 rows × 3 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#实验enumrate()功能</span></span><br><span class="line"><span class="comment">#返回[(0, 信息1), (1, 信息2), (2, 信息3)]</span></span><br><span class="line"><span class="comment">#具体请参考[手册](https://www.runoob.com/python/python-func-enumerate.html)</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;arxiv-metadata-oai-snapshot.json&quot;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    a = <span class="built_in">list</span>(<span class="built_in">enumerate</span>(f))</span><br><span class="line"><span class="comment"># 请自行执行代码 a  进行查看 </span></span><br></pre></td></tr></table></figure>
<h2 id="任务2数据处理"><a href="#任务2数据处理" class="headerlink" title="任务2数据处理"></a>任务2数据处理</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#又到了很抓的数据处理环节</span></span><br><span class="line"><span class="comment">#选择cs.CV下的论文</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">apply算是进阶的条件表达式,检测数据是否满足apply中的函数</span></span><br><span class="line"><span class="string">请参考[csdn博客](https://blog.csdn.net/starmoth/article/details/86323026)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">data2 = data[data[<span class="string">&#x27;categories&#x27;</span>].apply(<span class="keyword">lambda</span> x: <span class="string">&#x27;cs.CV&#x27;</span> <span class="keyword">in</span> x)]</span><br><span class="line">all_authors = <span class="built_in">sum</span>(data2[<span class="string">&#x27;authors_parsed&#x27;</span>], []) <span class="comment">#将所有元素整合成大list</span></span><br><span class="line"><span class="comment"># all_authors</span></span><br><span class="line"><span class="comment">#偷偷瞄一眼数据</span></span><br></pre></td></tr></table></figure>
<h4 id="主线1用直方图列出19年以来发表数最多的10人"><a href="#主线1用直方图列出19年以来发表数最多的10人" class="headerlink" title="主线1用直方图列出19年以来发表数最多的10人"></a>主线1用直方图列出19年以来发表数最多的10人</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">author_names = [<span class="string">&#x27; &#x27;</span>.join(x) <span class="keyword">for</span> x <span class="keyword">in</span> all_authors] <span class="comment">#join()链接函数</span></span><br><span class="line">author_names = pd.DataFrame(author_names)</span><br><span class="line"></span><br><span class="line"><span class="comment">#绘制直方图</span></span><br><span class="line">plt.figure(figsize = (<span class="number">10</span>, <span class="number">6</span>)) <span class="comment">#设置幕布大小</span></span><br><span class="line">temp_val = author_names[<span class="number">0</span>].value_counts().head(<span class="number">10</span>).plot(kind = <span class="string">&#x27;barh&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># names = author_names[0].value_counts().index.values[:10]</span></span><br><span class="line"><span class="comment"># _ = plt.yticks(range(0, len(names)), names)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    上面注释这两端文字不知道有什么用</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">plt.ylabel(<span class="string">&#x27;Author&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Count&#x27;</span>)</span><br></pre></td></tr></table></figure>



<pre><code>Text(0.5, 0, &#39;Count&#39;)</code></pre>
<p><img src="output_15_1.png" alt="png"></p>
<blockquote>
<h2 id="对原文改进-1"><a href="#对原文改进-1" class="headerlink" title="对原文改进"></a>对原文改进</h2></blockquote>
<hr>
<p>原文  </p>
<pre><code> authors_lastnames = [x[0] for x in all_authors]   
 authors_lastnames = pd.DataFrame(authors_lastnames)

 plt.figure(figsize=(10, 6))
 authors_lastnames[0].value_counts().head(10).plot(kind=&#39;barh&#39;)  </code></pre>
<p> <strong>names = authors_lastnames[0].value_counts().index.values[:10]<br> _ = plt.yticks(range(0, len(names)), names)</strong>        </p>
<pre><code> plt.ylabel(&#39;Author&#39;) plt.xlabel(&#39;Count&#39;)  </code></pre>
<hr>
<p>我想说明的是<strong>不用加粗无缩进的两行照样能用</strong><br>我不清楚这两行的意义在哪里,后面根本没有调用names和_</p>
<h4 id="主线2直方图列出发表数最多10人的姓"><a href="#主线2直方图列出发表数最多10人的姓" class="headerlink" title="主线2直方图列出发表数最多10人的姓"></a>主线2直方图列出发表数最多10人的姓</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">author_lastnames = [x[<span class="number">0</span>] <span class="keyword">for</span> x <span class="keyword">in</span> all_authors]</span><br><span class="line"><span class="comment">#all_authors是以人为行,姓名为列的二维数组</span></span><br><span class="line">author_lastnames = pd.DataFrame(author_lastnames)</span><br><span class="line"></span><br><span class="line">plt.figure(figsize = (<span class="number">10</span>, <span class="number">6</span>))</span><br><span class="line">author_lastnames[<span class="number">0</span>].value_counts().head(<span class="number">10</span>).plot(kind = <span class="string">&#x27;barh&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.ylabel(<span class="string">&#x27;Author&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Count&#x27;</span>)</span><br></pre></td></tr></table></figure>



<pre><code>Text(0.5, 0, &#39;Count&#39;)</code></pre>
<p><img src="output_18_1.png" alt="png"></p>
<h3 id="感悟"><a href="#感悟" class="headerlink" title="感悟"></a>感悟</h3><blockquote>
<ol>
<li>使用markdown更得心应手了  </li>
<li>基本上流程懂了</li>
<li>python用起来更轻松啦</li>
<li>最近还打算在github上搭建博客</li>
<li>我爱开源</li>
</ol>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/01/19/Task2/" data-id="ckk434sia00007wu53pxo5a5z" data-title="The TASK2" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Task1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/01/19/Task1/" class="article-date">
  <time class="dt-published" datetime="2021-01-19T14:01:50.641Z" itemprop="datePublished">2021-01-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/01/19/Task1/">The TASK1</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><code>简介:</code> DW第21期数据分析方向–目标15天内完成小型论文分析项目 <br /><br><code>目标:</code> 论⽂文数量量统计（数据统计任务）：统计2019年年全年年，计算机各个⽅方向论⽂文数量量；<br /><br><code>数据集:</code>  <a target="_blank" rel="noopener" href="https://www.kaggle.com/Cornell-University/arxiv">https://www.kaggle.com/Cornell-University/arxiv</a></p>
<blockquote>
<p>数据集的格式如下： <br /></p>
</blockquote>
<ul>
<li>id：arXiv ID，可⽤用于访问论⽂文； <br /></li>
<li>submitter：论⽂文提交者； <br /></li>
<li>authors：论⽂文作者； <br /></li>
<li>title：论⽂文标题； <br /></li>
<li>comments：论⽂文⻚页数和图表等其他信息； <br /></li>
<li>journal-ref：论⽂文发表的期刊的信息； <br /></li>
<li>doi：数字对象标识符，<a target="_blank" rel="noopener" href="https://www.doi.org;/">https://www.doi.org；</a><br /></li>
<li>report-no：报告编号； <br /></li>
<li>categories：论⽂文在 arXiv 系统的所属类别或标签； <br /></li>
<li>license：⽂文章的许可证； <br /></li>
<li>abstract：论⽂文摘要； <br /></li>
<li>versions：论⽂文版本； <br /></li>
<li>authors_parsed：作者的信息。 </li>
</ul>
<h2 id="任务1搭建环境"><a href="#任务1搭建环境" class="headerlink" title="任务1搭建环境"></a>任务1搭建环境</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns <span class="comment">#⽤用于画图 </span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="comment">#⽤用于爬取arxiv的数据 </span></span><br><span class="line"><span class="keyword">import</span> re <span class="comment">#⽤用于正则表达式，匹配字符串串的模式 </span></span><br><span class="line"><span class="keyword">import</span> requests <span class="comment">#⽤用于⽹网络连接，发送⽹网络请求，使⽤用域名获取对应信息 </span></span><br><span class="line"><span class="keyword">import</span> json <span class="comment">#读取数据，我们的数据为json格式的</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment">#数据处理理，数据分析 </span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt <span class="comment">#画图⼯工具</span></span><br><span class="line"><span class="keyword">import</span> os <span class="comment">#读取文件</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">data  = [] <span class="comment">#初始化 </span></span><br><span class="line"><span class="comment">#使⽤用with语句句优势：1.自动关闭文件句句柄；2.自动显示（处理理）文件读取数据异常 </span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;arxiv-metadata-oai-snapshot.json&quot;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:     </span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:         </span><br><span class="line">        data.append(json.loads(line))  </span><br><span class="line">        </span><br><span class="line">data = pd.DataFrame(data) <span class="comment">#将list变为dataframe格式，方便使用pandas进⾏分析 </span></span><br><span class="line">data.shape <span class="comment">#显示数据⼤⼩</span></span><br></pre></td></tr></table></figure>



<pre><code>(1796911, 14)</code></pre>
<h2 id="任务2数据处理"><a href="#任务2数据处理" class="headerlink" title="任务2数据处理"></a>任务2数据处理</h2><blockquote>
<ol>
<li>筛选出2019年及后的论文<br/></li>
<li>从arxiv网站上爬取门类信息,填补原有data表 </li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#双重循环的列表推导器读取每类科目</span></span><br><span class="line"><span class="comment">#set()去重</span></span><br><span class="line">unique_categories = <span class="built_in">set</span>([i <span class="keyword">for</span> l <span class="keyword">in</span> [x.split(<span class="string">&#x27; &#x27;</span>) <span class="keyword">for</span> x <span class="keyword">in</span> data[<span class="string">&quot;categories&quot;</span>]] <span class="keyword">for</span> i <span class="keyword">in</span> l]) </span><br><span class="line"><span class="built_in">len</span>(unique_categories), unique_categories</span><br><span class="line"><span class="comment">#查看数据</span></span><br></pre></td></tr></table></figure>



<pre><code>(176,
 &#123;&#39;acc-phys&#39;,
  &#39;adap-org&#39;,
  &#39;alg-geom&#39;,
  &#39;ao-sci&#39;,
  &#39;astro-ph&#39;,
  &#39;astro-ph.CO&#39;,
  &#39;astro-ph.EP&#39;,
  &#39;astro-ph.GA&#39;,
  &#39;astro-ph.HE&#39;,
  &#39;astro-ph.IM&#39;,
  &#39;astro-ph.SR&#39;,
  &#39;atom-ph&#39;,
  &#39;bayes-an&#39;,
  &#39;quant-ph&#39;,
  &#39;solv-int&#39;,
  &#39;stat.AP&#39;,
  &#39;stat.CO&#39;,
  &#39;stat.ME&#39;,
  &#39;stat.ML&#39;,
  &#39;stat.OT&#39;,
  &#39;stat.TH&#39;,
  &#39;supr-con&#39;&#125;)</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">&quot;year&quot;</span>] = pd.to_datetime(data[<span class="string">&quot;update_date&quot;</span>]).dt.year </span><br><span class="line"><span class="comment">#将update_date从str变为datetime格式，并提取处year </span></span><br><span class="line"><span class="keyword">del</span> data[<span class="string">&quot;update_date&quot;</span>] </span><br><span class="line"><span class="comment">#删除 update_date特征，其使命已完成 </span></span><br><span class="line">data = data[data[<span class="string">&quot;year&quot;</span>] &gt;= <span class="number">2019</span>] </span><br><span class="line"><span class="comment">#找出 year 中2019年年以后的数据，并将其他数据覆盖 </span></span><br><span class="line">data.groupby([<span class="string">&#x27;categories&#x27;</span>,<span class="string">&#x27;year&#x27;</span>]) </span><br><span class="line"><span class="comment">#以 categories 进⾏行行排序，如果同⼀一个categories 相同则使⽤用 year 特征进⾏行行排序 </span></span><br><span class="line">data.reset_index(drop=<span class="literal">True</span>, inplace=<span class="literal">True</span>) <span class="comment">#重新编号 </span></span><br><span class="line">data <span class="comment">#查看结果</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>submitter</th>
      <th>authors</th>
      <th>title</th>
      <th>comments</th>
      <th>journal-ref</th>
      <th>doi</th>
      <th>report-no</th>
      <th>categories</th>
      <th>license</th>
      <th>abstract</th>
      <th>versions</th>
      <th>authors_parsed</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0704.0297</td>
      <td>Sung-Chul Yoon</td>
      <td>Sung-Chul Yoon, Philipp Podsiadlowski and Step...</td>
      <td>Remnant evolution after a carbon-oxygen white ...</td>
      <td>15 pages, 15 figures, 3 tables, submitted to M...</td>
      <td>None</td>
      <td>10.1111/j.1365-2966.2007.12161.x</td>
      <td>None</td>
      <td>astro-ph</td>
      <td>None</td>
      <td>We systematically explore the evolution of t...</td>
      <td>[{'version': 'v1', 'created': 'Tue, 3 Apr 2007...</td>
      <td>[[Yoon, Sung-Chul, ], [Podsiadlowski, Philipp,...</td>
      <td>2019</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0704.0342</td>
      <td>Patrice Ntumba Pungu</td>
      <td>B. Dugmore and PP. Ntumba</td>
      <td>Cofibrations in the Category of Frolicher Spac...</td>
      <td>27 pages</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>math.AT</td>
      <td>None</td>
      <td>Cofibrations are defined in the category of ...</td>
      <td>[{'version': 'v1', 'created': 'Tue, 3 Apr 2007...</td>
      <td>[[Dugmore, B., ], [Ntumba, PP., ]]</td>
      <td>2019</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0704.0360</td>
      <td>Zaqarashvili</td>
      <td>T.V. Zaqarashvili and K Murawski</td>
      <td>Torsional oscillations of longitudinally inhom...</td>
      <td>6 pages, 3 figures, accepted in A&amp;A</td>
      <td>None</td>
      <td>10.1051/0004-6361:20077246</td>
      <td>None</td>
      <td>astro-ph</td>
      <td>None</td>
      <td>We explore the effect of an inhomogeneous ma...</td>
      <td>[{'version': 'v1', 'created': 'Tue, 3 Apr 2007...</td>
      <td>[[Zaqarashvili, T. V., ], [Murawski, K, ]]</td>
      <td>2019</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0704.0525</td>
      <td>Sezgin Ayg\"un</td>
      <td>Sezgin Aygun, Ismail Tarhan, Husnu Baysal</td>
      <td>On the Energy-Momentum Problem in Static Einst...</td>
      <td>This submission has been withdrawn by arXiv ad...</td>
      <td>Chin.Phys.Lett.24:355-358,2007</td>
      <td>10.1088/0256-307X/24/2/015</td>
      <td>None</td>
      <td>gr-qc</td>
      <td>None</td>
      <td>This paper has been removed by arXiv adminis...</td>
      <td>[{'version': 'v1', 'created': 'Wed, 4 Apr 2007...</td>
      <td>[[Aygun, Sezgin, ], [Tarhan, Ismail, ], [Baysa...</td>
      <td>2019</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0704.0535</td>
      <td>Antonio Pipino</td>
      <td>Antonio Pipino (1,3), Thomas H. Puzia (2,4), a...</td>
      <td>The Formation of Globular Cluster Systems in M...</td>
      <td>32 pages (referee format), 9 figures, ApJ acce...</td>
      <td>Astrophys.J.665:295-305,2007</td>
      <td>10.1086/519546</td>
      <td>None</td>
      <td>astro-ph</td>
      <td>None</td>
      <td>The most massive elliptical galaxies show a ...</td>
      <td>[{'version': 'v1', 'created': 'Wed, 4 Apr 2007...</td>
      <td>[[Pipino, Antonio, ], [Puzia, Thomas H., ], [M...</td>
      <td>2019</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>395118</th>
      <td>quant-ph/9911051</td>
      <td>Stephen A. Fulling</td>
      <td>S. A. Fulling</td>
      <td>Large Numbers, the Chinese Remainder Theorem, ...</td>
      <td>9 pages; Plain TeX with vanilla.sty and pictex...</td>
      <td>Phys. Rev. Applied 13, 024016 (2020)</td>
      <td>10.1103/PhysRevApplied.13.024016</td>
      <td>None</td>
      <td>quant-ph</td>
      <td>None</td>
      <td>This is a pedagogical article cited in the f...</td>
      <td>[{'version': 'v1', 'created': 'Thu, 11 Nov 199...</td>
      <td>[[Fulling, S. A., ]]</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>395119</th>
      <td>solv-int/9511005</td>
      <td>Wen-Xiu Ma</td>
      <td>Wen-Xiu Ma, Benno Fuchssteiner</td>
      <td>Explicit and Exact Solutions to a Kolmogorov-P...</td>
      <td>14pages, Latex, to appear in Intern. J. Nonlin...</td>
      <td>None</td>
      <td>10.1016/0020-7462(95)00064-X</td>
      <td>None</td>
      <td>solv-int nlin.SI</td>
      <td>None</td>
      <td>Some explicit traveling wave solutions to a ...</td>
      <td>[{'version': 'v1', 'created': 'Tue, 14 Nov 199...</td>
      <td>[[Ma, Wen-Xiu, ], [Fuchssteiner, Benno, ]]</td>
      <td>2019</td>
    </tr>
    <tr>
      <th>395120</th>
      <td>solv-int/9809008</td>
      <td>Victor Enolskii</td>
      <td>J C Eilbeck, V Z Enol'skii, V B Kuznetsov, D V...</td>
      <td>Linear r-Matrix Algebra for a Hierarchy of One...</td>
      <td>plain LaTeX, 28 pages</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>solv-int nlin.SI</td>
      <td>None</td>
      <td>We consider a hierarchy of many-particle sys...</td>
      <td>[{'version': 'v1', 'created': 'Wed, 2 Sep 1998...</td>
      <td>[[Eilbeck, J C, ], [Enol'skii, V Z, ], [Kuznet...</td>
      <td>2019</td>
    </tr>
    <tr>
      <th>395121</th>
      <td>solv-int/9909010</td>
      <td>Pierre van Moerbeke</td>
      <td>M. Adler, T. Shiota and P. van Moerbeke</td>
      <td>Pfaff tau-functions</td>
      <td>42 pages</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>solv-int adap-org hep-th nlin.AO nlin.SI</td>
      <td>None</td>
      <td>Consider the evolution $$ \frac{\pl m_\iy}{\...</td>
      <td>[{'version': 'v1', 'created': 'Wed, 15 Sep 199...</td>
      <td>[[Adler, M., ], [Shiota, T., ], [van Moerbeke,...</td>
      <td>2019</td>
    </tr>
    <tr>
      <th>395122</th>
      <td>solv-int/9909014</td>
      <td>David Fairlie</td>
      <td>D.B. Fairlie and A.N. Leznov</td>
      <td>The General Solution of the Complex Monge-Amp\...</td>
      <td>13 pages, latex, no figures</td>
      <td>None</td>
      <td>10.1088/0305-4470/33/25/307</td>
      <td>None</td>
      <td>solv-int nlin.SI</td>
      <td>None</td>
      <td>A general solution to the Complex Monge-Amp\...</td>
      <td>[{'version': 'v1', 'created': 'Thu, 16 Sep 199...</td>
      <td>[[Fairlie, D. B., ], [Leznov, A. N., ]]</td>
      <td>2019</td>
    </tr>
  </tbody>
</table>
<p>395123 rows × 14 columns</p>
</div>



<blockquote>
<p>爬取页面源代码</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># txt = &quot;&quot;</span></span><br><span class="line"><span class="comment"># path = &quot;.\html1.txt&quot;</span></span><br><span class="line"><span class="comment"># f = open(path,encoding=&#x27;utf-8&#x27;)</span></span><br><span class="line"><span class="comment"># txt = f.read()</span></span><br><span class="line"><span class="comment"># f.close()</span></span><br><span class="line"></span><br><span class="line">website_url = requests.get(<span class="string">&#x27;https://arxiv.org/category_taxonomy&#x27;</span>).text <span class="comment">#获取⽹网⻚页 的⽂文本数据 </span></span><br><span class="line">soup = BeautifulSoup(txt,<span class="string">&#x27;lxml&#x27;</span>) <span class="comment">#爬取数据，这⾥里里使⽤用lxml的解析器器，加速</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>对于难以访问外网的状况提供以下解决措施</strong>  <br /> </li>
</ul>
<hr>
<pre><code>#由于arxiv很难访问,因此将网页源代码粘贴到html1.txt
#读取已保存的网页,效率更高
txt = &quot;&quot;
path = &quot;.\html1.txt&quot;
f = open(path,encoding=&#39;utf-8&#39;)
txt = f.read()
f.close()</code></pre>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># soup #检查爬取过来的数据</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>对源代码进行整理,提取出所需列表</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">root = soup.find(<span class="string">&#x27;div&#x27;</span>,&#123;<span class="string">&#x27;id&#x27;</span>:<span class="string">&#x27;category_taxonomy_list&#x27;</span>&#125;) <span class="comment">#找出 BeautifulSoup 对应 的标签⼊入⼝口 </span></span><br><span class="line">tags = root.find_all([<span class="string">&quot;h2&quot;</span>,<span class="string">&quot;h3&quot;</span>,<span class="string">&quot;h4&quot;</span>,<span class="string">&quot;p&quot;</span>], recursive=<span class="literal">True</span>) <span class="comment">#读取 tags</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#初始化 str 和 list 变量量 </span></span><br><span class="line">level_1_name = <span class="string">&quot;&quot;</span> </span><br><span class="line">level_2_name = <span class="string">&quot;&quot;</span> </span><br><span class="line">level_2_code = <span class="string">&quot;&quot;</span> </span><br><span class="line">level_1_names = [] </span><br><span class="line">level_2_codes = [] </span><br><span class="line">level_2_names = [] </span><br><span class="line">level_3_codes = [] </span><br><span class="line">level_3_names = [] </span><br><span class="line">level_3_notes = []</span><br><span class="line"> </span><br><span class="line"><span class="comment">#进⾏行行 </span></span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> tags:    </span><br><span class="line">    <span class="keyword">if</span> t.name == <span class="string">&quot;h2&quot;</span>:        </span><br><span class="line">        level_1_name = t.text            </span><br><span class="line">        level_2_code = t.text        </span><br><span class="line">        level_2_name = t.text    </span><br><span class="line">    <span class="keyword">elif</span> t.name == <span class="string">&quot;h3&quot;</span>:       </span><br><span class="line">        raw = t.text      </span><br><span class="line">        level_2_code = re.sub(<span class="string">r&quot;(.*)\((.*)\)&quot;</span>,<span class="string">r&quot;\2&quot;</span>,raw) <span class="comment">#正则表达式：模式字符串串： (.*)\((.*)\)；被替换字符串串&quot;\2&quot;；被处理理字符串串：raw       </span></span><br><span class="line">        level_2_name = re.sub(<span class="string">r&quot;(.*)\((.*)\)&quot;</span>,<span class="string">r&quot;\1&quot;</span>,raw)    </span><br><span class="line">    <span class="keyword">elif</span> t.name == <span class="string">&quot;h4&quot;</span>:      </span><br><span class="line">        raw = t.text       </span><br><span class="line">        level_3_code = re.sub(<span class="string">r&quot;(.*) \((.*)\)&quot;</span>,<span class="string">r&quot;\1&quot;</span>,raw)     </span><br><span class="line">        level_3_name = re.sub(<span class="string">r&quot;(.*) \((.*)\)&quot;</span>,<span class="string">r&quot;\2&quot;</span>,raw)   </span><br><span class="line">    <span class="keyword">elif</span> t.name == <span class="string">&quot;p&quot;</span>:        </span><br><span class="line">        notes = t.text        </span><br><span class="line">        level_1_names.append(level_1_name)      </span><br><span class="line">        level_2_names.append(level_2_name)  </span><br><span class="line">        level_2_codes.append(level_2_code)   </span><br><span class="line">        level_3_names.append(level_3_name)  </span><br><span class="line">        level_3_codes.append(level_3_code)   </span><br><span class="line">        level_3_notes.append(notes)</span><br><span class="line"> </span><br><span class="line"><span class="comment">#根据以上信息⽣生成dataframe格式的数据</span></span><br><span class="line">df_taxonomy = pd.DataFrame(&#123;   </span><br><span class="line">    <span class="string">&#x27;group_name&#x27;</span> : level_1_names,  </span><br><span class="line">    <span class="string">&#x27;archive_name&#x27;</span> : level_2_names, </span><br><span class="line">    <span class="string">&#x27;archive_id&#x27;</span> : level_2_codes,  </span><br><span class="line">    <span class="string">&#x27;category_name&#x27;</span> : level_3_names, </span><br><span class="line">    <span class="string">&#x27;categories&#x27;</span> : level_3_codes, </span><br><span class="line">    <span class="string">&#x27;category_description&#x27;</span>: level_3_notes  </span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">df_taxonomy.groupby([<span class="string">&quot;group_name&quot;</span>,<span class="string">&quot;archive_name&quot;</span>])</span><br><span class="line">df_taxonomy</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>group_name</th>
      <th>archive_name</th>
      <th>archive_id</th>
      <th>category_name</th>
      <th>categories</th>
      <th>category_description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Computer Science</td>
      <td>Computer Science</td>
      <td>Computer Science</td>
      <td>Artificial Intelligence</td>
      <td>cs.AI</td>
      <td>Covers all areas of AI except Vision, \nRoboti...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Computer Science</td>
      <td>Computer Science</td>
      <td>Computer Science</td>
      <td>Hardware Architecture</td>
      <td>cs.AR</td>
      <td>Covers systems organization and hardware archi...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Computer Science</td>
      <td>Computer Science</td>
      <td>Computer Science</td>
      <td>Computational Complexity</td>
      <td>cs.CC</td>
      <td>Covers models of computation, \ncomplexity cla...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Computer Science</td>
      <td>Computer Science</td>
      <td>Computer Science</td>
      <td>Computational Engineering, Finance, and Science</td>
      <td>cs.CE</td>
      <td>Covers applications of computer science\n to t...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Computer Science</td>
      <td>Computer Science</td>
      <td>Computer Science</td>
      <td>Computational Geometry</td>
      <td>cs.CG</td>
      <td>Roughly includes material in ACM Subject Class...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>150</th>
      <td>Statistics</td>
      <td>Statistics</td>
      <td>Statistics</td>
      <td>Computation</td>
      <td>stat.CO</td>
      <td>Algorithms, Simulation, Visualization</td>
    </tr>
    <tr>
      <th>151</th>
      <td>Statistics</td>
      <td>Statistics</td>
      <td>Statistics</td>
      <td>Methodology</td>
      <td>stat.ME</td>
      <td>Design, Surveys, Model Selection, \nMultiple T...</td>
    </tr>
    <tr>
      <th>152</th>
      <td>Statistics</td>
      <td>Statistics</td>
      <td>Statistics</td>
      <td>Machine Learning</td>
      <td>stat.ML</td>
      <td>Covers machine learning papers \n(supervised, ...</td>
    </tr>
    <tr>
      <th>153</th>
      <td>Statistics</td>
      <td>Statistics</td>
      <td>Statistics</td>
      <td>Other Statistics</td>
      <td>stat.OT</td>
      <td>Work in statistics that does not fit into the ...</td>
    </tr>
    <tr>
      <th>154</th>
      <td>Statistics</td>
      <td>Statistics</td>
      <td>Statistics</td>
      <td>Statistics Theory</td>
      <td>stat.TH</td>
      <td>stat.TH is an alias for math.ST. Asymptotics, ...</td>
    </tr>
  </tbody>
</table>
<p>155 rows × 6 columns</p>
</div>



<blockquote>
<pre><code>- df_taxonomy表和data表合并,以data表为主
- 去除重复id以及组名
- 再以组名分类计数</code></pre>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">_df = data.merge(df_taxonomy, on=<span class="string">&#x27;categories&#x27;</span>, how=<span class="string">&#x27;left&#x27;</span>).drop_duplicates([<span class="string">&#x27;id&#x27;</span>, <span class="string">&quot;group_name&quot;</span>]).groupby(<span class="string">&#x27;group_name&#x27;</span>).agg(&#123;<span class="string">&#x27;id&#x27;</span>:<span class="string">&#x27;count&#x27;</span>&#125;).sort_values(by=<span class="string">&quot;id&quot;</span>, ascending=<span class="literal">False</span>).reset_index()</span><br><span class="line">_df[<span class="string">&#x27;count&#x27;</span>] = _df[<span class="string">&#x27;id&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> _df[<span class="string">&#x27;id&#x27;</span>]</span><br><span class="line"> </span><br><span class="line">_df</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>group_name</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Physics</td>
      <td>79985</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Mathematics</td>
      <td>51567</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Computer Science</td>
      <td>40067</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Statistics</td>
      <td>4054</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Electrical Engineering and Systems Science</td>
      <td>3297</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Quantitative Biology</td>
      <td>1994</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Quantitative Finance</td>
      <td>826</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Economics</td>
      <td>576</td>
    </tr>
  </tbody>
</table>
</div>



<h2 id="任务3数据可视化"><a href="#任务3数据可视化" class="headerlink" title="任务3数据可视化"></a>任务3数据可视化</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主要使用matplotlib库</span></span><br><span class="line">fig = plt.figure(figsize = (<span class="number">15</span>, <span class="number">12</span>)) <span class="comment">#设置图大小</span></span><br><span class="line">explode = (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>, <span class="number">0.3</span>, <span class="number">0.3</span>, <span class="number">0.2</span>, <span class="number">0.1</span>)</span><br><span class="line">plt.pie(_df[<span class="string">&quot;count&quot;</span>], labels = _df[<span class="string">&quot;group_name&quot;</span>], autopct = <span class="string">&#x27;%1.2f%%&#x27;</span>,\</span><br><span class="line">       startangle=<span class="number">160</span>, explode=explode)</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="output_17_0.png" alt="png"></p>
<blockquote>
<p>额外任务统计各个子领域内2019年及以后的paper数量</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">group_name=<span class="string">&quot;Computer Science&quot;</span></span><br><span class="line">cats = data.merge(df_taxonomy, on=<span class="string">&quot;categories&quot;</span>)\</span><br><span class="line">    .query(<span class="string">&quot;group_name == @group_name&quot;</span>) </span><br><span class="line"></span><br><span class="line">cats.groupby([<span class="string">&quot;year&quot;</span>, <span class="string">&quot;category_name&quot;</span>])\</span><br><span class="line">    .count().reset_index().pivot(index = <span class="string">&#x27;category_name&#x27;</span>,\</span><br><span class="line">                                 columns = <span class="string">&quot;year&quot;</span>, values = <span class="string">&quot;id&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果报错,很有可能是输入变量时输错了</span></span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>year</th>
      <th>2019</th>
      <th>2020</th>
    </tr>
    <tr>
      <th>category_name</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Artificial Intelligence</th>
      <td>558</td>
      <td>757</td>
    </tr>
    <tr>
      <th>Computation and Language</th>
      <td>2153</td>
      <td>2906</td>
    </tr>
    <tr>
      <th>Computational Complexity</th>
      <td>131</td>
      <td>188</td>
    </tr>
    <tr>
      <th>Computational Engineering, Finance, and Science</th>
      <td>108</td>
      <td>205</td>
    </tr>
    <tr>
      <th>Computational Geometry</th>
      <td>199</td>
      <td>216</td>
    </tr>
    <tr>
      <th>Computer Science and Game Theory</th>
      <td>281</td>
      <td>323</td>
    </tr>
    <tr>
      <th>Computer Vision and Pattern Recognition</th>
      <td>5559</td>
      <td>6517</td>
    </tr>
    <tr>
      <th>Computers and Society</th>
      <td>346</td>
      <td>564</td>
    </tr>
    <tr>
      <th>Cryptography and Security</th>
      <td>1067</td>
      <td>1238</td>
    </tr>
    <tr>
      <th>Data Structures and Algorithms</th>
      <td>711</td>
      <td>902</td>
    </tr>
    <tr>
      <th>Databases</th>
      <td>282</td>
      <td>342</td>
    </tr>
    <tr>
      <th>Digital Libraries</th>
      <td>125</td>
      <td>157</td>
    </tr>
    <tr>
      <th>Discrete Mathematics</th>
      <td>84</td>
      <td>81</td>
    </tr>
    <tr>
      <th>Distributed, Parallel, and Cluster Computing</th>
      <td>715</td>
      <td>774</td>
    </tr>
    <tr>
      <th>Emerging Technologies</th>
      <td>101</td>
      <td>84</td>
    </tr>
    <tr>
      <th>Formal Languages and Automata Theory</th>
      <td>152</td>
      <td>137</td>
    </tr>
    <tr>
      <th>General Literature</th>
      <td>5</td>
      <td>5</td>
    </tr>
    <tr>
      <th>Graphics</th>
      <td>116</td>
      <td>151</td>
    </tr>
    <tr>
      <th>Hardware Architecture</th>
      <td>95</td>
      <td>159</td>
    </tr>
    <tr>
      <th>Human-Computer Interaction</th>
      <td>420</td>
      <td>580</td>
    </tr>
    <tr>
      <th>Information Retrieval</th>
      <td>245</td>
      <td>331</td>
    </tr>
    <tr>
      <th>Logic in Computer Science</th>
      <td>470</td>
      <td>504</td>
    </tr>
    <tr>
      <th>Machine Learning</th>
      <td>177</td>
      <td>538</td>
    </tr>
    <tr>
      <th>Mathematical Software</th>
      <td>27</td>
      <td>45</td>
    </tr>
    <tr>
      <th>Multiagent Systems</th>
      <td>85</td>
      <td>90</td>
    </tr>
    <tr>
      <th>Multimedia</th>
      <td>76</td>
      <td>66</td>
    </tr>
    <tr>
      <th>Networking and Internet Architecture</th>
      <td>864</td>
      <td>783</td>
    </tr>
    <tr>
      <th>Neural and Evolutionary Computing</th>
      <td>235</td>
      <td>279</td>
    </tr>
    <tr>
      <th>Numerical Analysis</th>
      <td>40</td>
      <td>11</td>
    </tr>
    <tr>
      <th>Operating Systems</th>
      <td>36</td>
      <td>33</td>
    </tr>
    <tr>
      <th>Other Computer Science</th>
      <td>67</td>
      <td>69</td>
    </tr>
    <tr>
      <th>Performance</th>
      <td>45</td>
      <td>51</td>
    </tr>
    <tr>
      <th>Programming Languages</th>
      <td>268</td>
      <td>294</td>
    </tr>
    <tr>
      <th>Robotics</th>
      <td>917</td>
      <td>1298</td>
    </tr>
    <tr>
      <th>Social and Information Networks</th>
      <td>202</td>
      <td>325</td>
    </tr>
    <tr>
      <th>Software Engineering</th>
      <td>659</td>
      <td>804</td>
    </tr>
    <tr>
      <th>Sound</th>
      <td>7</td>
      <td>4</td>
    </tr>
    <tr>
      <th>Symbolic Computation</th>
      <td>44</td>
      <td>36</td>
    </tr>
    <tr>
      <th>Systems and Control</th>
      <td>415</td>
      <td>133</td>
    </tr>
  </tbody>
</table>
</div>



<h2 id="学习收获"><a href="#学习收获" class="headerlink" title="学习收获"></a>学习收获</h2><ul>
<li>报了很多bug,知道自己代码能力不强<br /></li>
<li>认识很多人,向大佬们致敬<br /></li>
<li>试着使用markdown — jupyter notebook里的markdown换个行还非得用br标签,刚开始感觉好麻烦</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/01/19/Task1/" data-id="ckk434siq00047wu56gi58gs3" data-title="The TASK1" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/01/19/hello-world/" class="article-date">
  <time class="dt-published" datetime="2021-01-19T13:02:45.896Z" itemprop="datePublished">2021-01-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/01/19/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/01/19/hello-world/" data-id="ckk434sia00037wu5hh8ehahr" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/01/19/asdf/">asdf</a>
          </li>
        
          <li>
            <a href="/2021/01/19/Task3/">The TASK3</a>
          </li>
        
          <li>
            <a href="/2021/01/19/Task2/">The TASK2</a>
          </li>
        
          <li>
            <a href="/2021/01/19/Task1/">The TASK1</a>
          </li>
        
          <li>
            <a href="/2021/01/19/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>